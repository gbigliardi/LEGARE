if("serviceWorker"in navigator){function checkForPageUpdate(r){r.addEventListener("updatefound",function(){if(navigator.serviceWorker.controller){var e=r.installing;e.onstatechange=function(){switch(console.info("Service Worker State :",e.state),e.state){case"installed":toast("Site is updated. Refresh the page.",5e3);break;case"redundant":throw new Error("The installing service worker became redundant.")}}}})}window.addEventListener("load",function(){navigator.serviceWorker.register("./sw.js",{scope:"./"}).then(function(e){console.log("Service Worker Registered"),checkForPageUpdate(e)},function(e){console.log("ServiceWorker registration failed: ",e)})})}